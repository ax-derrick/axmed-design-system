"use client"

import React from "react"

import styles from "./index.module.css"

// ---------------------------------------------------------------------------
// Types
// ---------------------------------------------------------------------------

export type AxBrandSize = "sm" | "md" | "lg"
export type AxBrandVariant = "icon" | "wordmark"
export type AxBrandTheme = "light" | "dark"

export type AxBrandProps = {
  /**
   * "icon" — flame mark only (for collapsed sidebar, favicons, etc.)
   * "wordmark" — mark + "Axmed" text (default)
   */
  variant?: AxBrandVariant

  /**
   * Size preset (controls height; width scales proportionally).
   * sm: 20px | md: 28px (default) | lg: 36px
   */
  size?: AxBrandSize

  /**
   * "light" — navy mark on light background (default)
   * "dark"  — white mark on dark/navy background
   */
  theme?: AxBrandTheme

  className?: string
  style?: React.CSSProperties
}

// ---------------------------------------------------------------------------
// SVG internals
// ---------------------------------------------------------------------------

const CYAN = "#0CC4FF"

/** The double-helix flame mark — fits within viewBox "0 0 50 81" */
const MarkPaths = () => (
  <>
    <path
      d="M0.130464 55.596C-0.00793937 54.9442 -0.0498797 54.5623 0.0717473 54.0516L10.2087 24.1404C10.2087 24.1404 11.8863 17.1618 17.0492 16.8961C18.06 16.8463 19.0707 17.0788 19.9682 17.5396C21.0964 18.1166 22.5895 19.2541 23.2564 21.388C23.2564 21.388 18.7058 17.2033 16.4662 25.7927L3.00338 67.1661L3.08306 67.4691C3.08306 67.4691 2.94466 67.4691 2.89433 67.3072L0.130464 55.596Z"
      fill="currentColor"
    />
    <path
      d="M11.3157 74.4851L6.5723 56.2021L3.00317 67.1702L3.08286 67.4733L5.41894 76.4903C5.41894 76.4903 8.88321 78.8524 11.3157 74.4851Z"
      fill={CYAN}
    />
    <path
      d="M25.1228 28.5783L23.2606 21.388C23.2606 21.388 19.7083 18.1249 17.3345 23.2976L21.7047 40.1775L25.1228 28.5783Z"
      fill={CYAN}
    />
    <path
      d="M41.2276 0.659769C40.3175 0.203108 39.2983 -0.0335246 38.2792 0.00383851C33.1289 0.190654 31.552 6.74165 31.552 6.74165L12.553 71.2387C10.3134 79.828 5.41895 76.4861 5.41895 76.4861C6.0858 78.6241 7.60823 79.7616 8.76578 80.3428C9.79332 80.8576 10.9383 81.0735 12.0833 80.978C16.898 80.5795 18.2737 74.9667 18.2737 74.9667L37.4488 9.739C39.6884 1.14964 44.5744 4.51232 44.5744 4.51232C43.9076 2.37847 42.3852 1.23682 41.2276 0.659769Z"
      fill="currentColor"
    />
    <path
      d="M46.9903 13.8324L44.5787 4.51651C44.5787 4.51651 41.1103 2.12942 38.6777 6.51336L43.4212 24.8005L46.9903 13.8324Z"
      fill={CYAN}
    />
    <path
      d="M32.6637 57.7049L28.3019 40.8624L24.8879 52.4741L26.7375 59.6146C26.7375 59.6146 30.2899 62.8776 32.6637 57.7049Z"
      fill={CYAN}
    />
    <path
      d="M49.8632 25.4066C50.0016 26.0584 50.0435 26.4403 49.9219 26.951L39.7849 56.8622C39.7849 56.8622 38.1073 63.8408 32.9445 64.1065C31.9337 64.1563 30.9229 63.9238 30.0254 63.463C28.8972 62.886 27.4042 61.7485 26.7373 59.6146C26.7373 59.6146 31.2878 63.7993 33.5274 55.2099L46.9903 13.8365L46.9106 13.5334C46.9106 13.5334 47.049 13.5334 47.0993 13.6954L49.8632 25.4066Z"
      fill="currentColor"
    />
  </>
)

/** Wordmark text paths: A, x, m, e, d — spans x 50–210 in "0 0 210 81" viewBox */
const WordmarkTextPaths = () => (
  <>
    <path
      d="M64.2446 25.1575H71.3326L82.2454 58.6141H74.6668L72.3475 51.3989H60.0842L58.3604 56.7584C58.0039 57.8627 56.968 58.6141 55.7979 58.6141H50.2827L60.3148 27.9888C60.8685 26.2992 62.4538 25.1575 64.2446 25.1575ZM70.2211 44.7067L66.2158 32.1859L62.2064 44.7067H70.2211Z"
      fill="currentColor"
    />
    <path
      d="M90.5999 45.8525L83.5035 33.5227H91.4219L96.0563 41.8381L100.645 33.5227H108.613L101.467 45.757L108.756 58.6141H100.934L96.0563 49.8213L91.0822 58.6141H83.21L90.5999 45.8525Z"
      fill="currentColor"
    />
    <path
      d="M112.199 33.5226H119.199V36.5823C120.31 34.6726 122.676 33.095 125.813 33.095C128.95 33.095 131.509 34.4318 133.056 36.4411C134.503 34.7224 137.015 33.095 140.782 33.095C146.381 33.095 150.487 37.205 150.487 41.8421V58.6182H143.487V44.2334C143.487 41.5557 141.604 39.7872 139.188 39.7872C136.386 39.7872 134.843 41.7467 134.843 44.2334V58.6182H127.843V44.2334C127.843 41.5557 125.96 39.7872 123.544 39.7872C120.742 39.7872 119.199 41.7467 119.199 44.2334V58.6182H112.199V33.5226Z"
      fill="currentColor"
    />
    <path
      d="M153.754 46.0892C153.754 38.8241 159.256 33.0909 167.225 33.0909C175.676 33.0909 180.163 39.5423 180.163 46.0892V48.6215H160.9C161.819 51.5857 164.281 52.9681 167.225 52.9681C171.088 52.9681 173.164 50.8675 173.793 49.5764L179.102 52.7315C178.138 54.8819 174.418 59.0417 167.225 59.0417C158.631 59.0417 153.754 53.2587 153.754 46.0892ZM172.874 43.1748C172.681 41.6928 171.041 39.0151 167.128 39.0151C164.616 39.0151 162.058 40.3518 161.043 43.1748H172.874Z"
      fill="currentColor"
    />
    <path
      d="M182.579 46.0892C182.579 38.2014 188.518 33.091 195.132 33.091C198.416 33.091 201.553 34.4277 203 36.2917V25.9131C203 24.4393 204.208 23.2479 205.693 23.2479H210V58.6141H203V55.8409C201.553 57.7049 198.412 59.0417 195.132 59.0417C188.518 59.0417 182.579 54.2634 182.579 46.0892ZM196.39 52.5405C200.253 52.5405 203.055 49.7217 203.055 46.0892C203.055 42.4567 200.253 39.6378 196.39 39.6378C192.528 39.6378 189.726 42.4567 189.726 46.0892C189.726 49.7217 192.431 52.5405 196.39 52.5405Z"
      fill="currentColor"
    />
  </>
)

// ---------------------------------------------------------------------------
// Size config
// ---------------------------------------------------------------------------

const heightMap: Record<AxBrandSize, number> = {
  sm: 20,
  md: 28,
  lg: 36,
}

// ---------------------------------------------------------------------------
// Component
// ---------------------------------------------------------------------------

const AxBrand: React.FC<AxBrandProps> = ({
  variant = "wordmark",
  size = "md",
  theme = "light",
  className,
  style,
}) => {
  const height = heightMap[size]
  const rootCls = [styles.brand, styles[theme], className].filter(Boolean).join(" ")

  if (variant === "icon") {
    const width = Math.round(height * (50 / 81))
    return (
      <span className={rootCls} style={style} aria-label="Axmed">
        <svg
          width={width}
          height={height}
          viewBox="0 0 50 81"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <MarkPaths />
        </svg>
      </span>
    )
  }

  // wordmark: flame mark + "Axmed" text
  const width = Math.round(height * (210 / 81))
  return (
    <span className={rootCls} style={style} aria-label="Axmed">
      <svg
        width={width}
        height={height}
        viewBox="0 0 210 81"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <MarkPaths />
        <WordmarkTextPaths />
      </svg>
    </span>
  )
}

AxBrand.displayName = "AxBrand"

export default AxBrand
