/* =============================================================================
   AxInputOTP — antd Input.OTP wrapper with motion tokens and typography.

   className is applied directly ON the .ant-otp root element (same node),
   so root-level styles target .axInputOTP directly (not as a descendant).
   Child selectors (.ant-otp-input, .ant-otp-separator) remain descendant.
   ============================================================================= */

/* Field wrapper — rendered when label, hint, or error are provided */
.wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

/* Field label */
.label {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-13);
  font-weight: var(--font-weight-medium);
  color: var(--text-primary);
  line-height: 1.4;
  text-wrap: balance;
  cursor: default;
  user-select: none;
}

/* Required asterisk */
.required {
  color: var(--error);
}

/* Hint — neutral helper text below the input */
.hint {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-12);
  color: var(--text-secondary);
  line-height: 1.4;
  text-wrap: pretty;
}

/* Error message — red text below the input */
.errorText {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-12);
  color: var(--error);
  line-height: 1.4;
  text-wrap: pretty;
}

/* Error state — red borders on all slots */
.hasError :global(.ant-otp-input) {
  border-color: var(--error) !important;
  transition: border-color var(--duration-base) var(--ease-out) !important;
}

/* Root container — className lands ON the .ant-otp div */
.axInputOTP {
  gap: var(--space-2);
}

/* Each slot (descendant of root) */
.axInputOTP :global(.ant-otp-input) {
  font-family: var(--font-family-sans) !important;
  font-variant-numeric: tabular-nums;
  font-weight: var(--font-weight-semibold);
  transition:
    border-color var(--duration-base) var(--ease-out),
    box-shadow var(--duration-base) var(--ease-out),
    transform var(--duration-fast) var(--ease-spring) !important;
}

/* Digit entered — satisfying pop when a slot is filled */
.axInputOTP :global(.ant-otp-input:not(:placeholder-shown)) {
  animation: slotFill var(--duration-fast) var(--ease-spring);
}

@keyframes slotFill {
  from {
    transform: scale(0.85);
  }
  to {
    transform: scale(1);
  }
}

/* Kill double focus ring — antd's own focus style is sufficient */
.axInputOTP :global(.ant-otp-input):focus-visible {
  outline: none !important;
}

/* Separator */
.axInputOTP :global(.ant-otp-separator) {
  color: var(--neutral-400);
  font-weight: var(--font-weight-regular);
}

/* ---- XL size — 56px slots, larger font, wider gap ---- */
.xl {
  gap: var(--space-3);
}

.xl :global(.ant-otp-input) {
  width: 56px !important;
  height: 56px !important;
  font-size: var(--font-size-24) !important;
}

/* ---- Mobile: tighten gap so slots don't overflow ---- */
@media (max-width: 575.98px) {
  .axInputOTP {
    gap: var(--space-1);
  }
}

/* ---- Touch devices: prevent iOS zoom on focus ---- */
@media (hover: none) and (pointer: coarse) {
  .axInputOTP :global(.ant-otp-input) {
    font-size: var(--font-size-16) !important;
  }
}
